library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

entity shift_register_8bit is
  port (
    clock : in std_logic;                     --clock
    --controls
    sh_en : in std_logic;                   --shift enable
    ld_en : in std_logic;                   --load enable
    --input
    s_in  : std_logic;                      -- serial in
    s_out : std_logic;                      -- serial out
    --output
    p_in  : std_logic_vector(7 downto 0);   -- parallel in
    p_out : std_logic_vector(7 downto 0)    -- parallel out
  );
end shift_register_8bit;

architecture arch of shift_register_8bit is

signal data : std_logic_vector(7 downto 0);
begin

shift : process( clock )
begin
  if( rising_edge(clock) and sh_en = '1' ) then
	data(7) <= s_in;
      for i in 0 to 6 loop
      data(i) <= data(i+1);
    end loop ;
  end if ;
end process ; -- shift

s_out <= data(7);

end architecture;